---
title: 自建一个vue-router需要注意什么
date: 2021/08/22 10:11:34
tags: [vue, 设计模式, js]
categories: [vue, 实战项目]
top: 3
toc: true
---
### 自建一个vue-router需要注意什么
最近在把一些自己写的一些小项目迁移到github上，工作后我就把github当作一个私人管理仓库，平时写的代码都提交在公司gitlab上了，也很少去在上面提交代码了，除了更新博客等私人项目外很少提交，所以提交图显得略微尴尬，所以想着迁移一部分代码到github上开源，也算是一个总结学习吧  
回归正题，这篇文章以一个基于hash实现的自定义vue-router为例，介绍自定义vue插件遇到的一些问题和解决方案，涉及到了单例模式、按需加载组件、私有属性访问等问题，还是非常值得一说的实战项目，这里是[仓库代码](https://github.com/o4liangdu/my-vue-router.git)  

#### 项目说明
项目分为几个分支，代表不同实现阶段：  
+ v1分支表示新建的vue2项目，使用基于vue-router实现的路由，有两个页面，基本配置，一个是默认页面，一个是测试页面，安装好包后即可跑起来.  
主要工作如下：添加了my-router目录，路由实现逻辑都在这里，在main.js中替换掉router目录的文件即是自定义的实现。初始化页面的监听  
+ v2分支做了vue插件化和用单例模式保证路由对象唯一性的工作
+ v3分支完成了自定义路由的工作  
主要工作如下：构建路由与组件的对应关系并条件渲染组件，配合webpack实现组建按需加载

#### 注意
主要实现代码大概100行，注意观察几个关键位置的打印，配合vue语法（构建vue插件、定义组件和实现数据响应式等）理解更佳
